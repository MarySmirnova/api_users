# API профилей пользователей

Сервис, который хранит профили пользователей. 

Структура профиля:

    ID       uuid.UUID
	Email    string 
	Username string 
	Password string 
	Admin    bool

Валидация при создании пользователя:
* Поля `Email`, `Username`, `Password` не могут быть пустыми.
* `Email` должен быть валидным.
* `Username` должен быть уникальным.

### REST API
API работает с форматом JSON и имеет следующие методы:

* **GET /user**  - выдает листинг всех профилей 
* **GET /user/{id}** - выдает профиль по id
* **POST /user** - создает профиль, возвращает его id
* **PATCH /user/{id}** - обновляет профиль по id. Можно изменять любое количество любых полей (кроме ID)
* **DELETE /user/{id}** - удаляет профиль

### Доступы
Сервис использует basic access authentication. <br>
Доступ к методам для удаления, изменения и создания пользователей имеют только администраторы. <br>
Доступ к просмотру профилей - у всех зарегестрированных пользователей. <br>
Пароли хешируются. <br>

### Переменные окружения

Используются следующие:

    LOG_LEVEL=INFO
    ADMIN_USERNAME=Admin
    ADMIN_PASS=Admin
    API_LISTEN=:8080
    API_READ_TIMEOUT=30s
    API_WRITE_TIMEOUT=30s

В примере выше указаны дефолтные значения. Если программа не считает пользовательские env, то возьмет эти значения. Переменные умеет считывать из файла .env в директории исполняемого файла.

ADMIN_USERNAME, ADMIN_PASS - задают учетные данные для профиля администратора, который создается при запуске приложения.